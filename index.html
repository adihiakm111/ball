<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Landscape Tilt Game</title>

<style>
body{
  margin:0;
  height:100vh;
  background:#0f0f0f;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  font-family:Arial;
  color:white;
}

#hud{
  display:flex;
  gap:30px;
  margin-bottom:20px;
  font-size:24px;
}

#main{
  position:relative;
  width:100vw;
  max-width:1200px;
  height:100px;
  background:#2b2b2b;
  border-radius:40px;
  overflow:hidden;
}

#main::after{
  content:"";
  position:absolute;
  left:50%;
  top:0;
  width:6px;
  height:100%;
  background:red;
  transform:translateX(-50%);
}

#a,#b{
  position:absolute;
  width:90px;
  height:90px;
  border-radius:50%;
  top:50%;
  transform:translateY(-50%);
}

#a{ background:#ff3b3b; }
#b{ background:#00e5ff; }

#overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.85);
  display:none;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:20px;
  font-size:36px;
  z-index:5;
}

#rotate{
  position:fixed;
  inset:0;
  background:black;
  color:white;
  display:none;
  justify-content:center;
  align-items:center;
  font-size:28px;
  text-align:center;
  z-index:10;
}

button{
  font-size:22px;
  padding:10px 25px;
}
</style>
</head>

<body>

<div id="rotate">Phone ko LANDSCAPE me ghumao ðŸ”„</div>

<div id="hud">
  <div>TIME: <span id="timeScore">0</span></div>
  <div>HITS: <span id="hitScore">0</span></div>
</div>

<div id="main">
  <div id="a"></div>
  <div id="b"></div>
</div>

<div id="overlay">
  <div>GAME OVER</div>
  <button onclick="restart()">RESTART</button>
</div>

<script>
const main = document.getElementById("main");
const a = document.getElementById("a");
const b = document.getElementById("b");

const timeBox = document.getElementById("timeScore");
const hitBox  = document.getElementById("hitScore");
const overlay = document.getElementById("overlay");
const rotate  = document.getElementById("rotate");

let ax, bx;
let speed = 2.5;
let tilt = 0;
let running = true;

let timeScore = 0;
let hitScore = 0;

const wallHalf = 3;

window.addEventListener("deviceorientation", e=>{
  tilt = e.gamma || 0;
});

function hitCenter(x, ball){
  const centerX = main.offsetWidth / 2;
  const c = x + ball.offsetWidth / 2;
  return Math.abs(c - centerX) < wallHalf + ball.offsetWidth / 2;
}

function reset(){
  ax = 20;
  bx = main.offsetWidth - b.offsetWidth - 20;
  timeScore = 0;
  hitScore = 0;
  running = true;
  overlay.style.display = "none";
}

function restart(){
  reset();
  loop();
}

function checkOrientation(){
  if(window.innerHeight > window.innerWidth){
    rotate.style.display = "flex";
    running = false;
  }else{
    rotate.style.display = "none";
    if(!running){
      running = true;
      loop();
    }
  }
}

window.addEventListener("resize", checkOrientation);

function loop(){
  if(!running) return;

  let dir = 0;
  if(tilt > 4) dir = 1;
  if(tilt < -4) dir = -1;

  ax += speed * dir;
  bx += speed * dir;

  a.style.left = ax + "px";
  b.style.left = bx + "px";

  timeScore += 0.02;
  timeBox.innerText = timeScore.toFixed(1);

  if(ax + a.offsetWidth >= bx){
    hitScore++;
    hitBox.innerText = hitScore;
    ax -= 10;
    bx += 10;
  }

  if(hitCenter(ax, a) || hitCenter(bx, b)){
    running = false;
    overlay.style.display = "flex";
    return;
  }

  requestAnimationFrame(loop);
}

reset();
checkOrientation();
loop();
</script>
</body>
</html>

